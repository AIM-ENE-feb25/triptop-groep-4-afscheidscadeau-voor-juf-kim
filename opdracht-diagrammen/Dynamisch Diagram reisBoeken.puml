@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Dynamic.puml

title [Container] Triptop

Person(user, "Reiziger", "Beheert en wijzigt zijn reis")

System_Boundary(triptop, "n") {

    Container(web, "Triptop Web App", "React (JavaScript / react)", "Biedt gebruikers de mogelijkheid om hun reis te beheren en wijzigingen aan te brengen")

'    Nodig?
'    Container(api, "API Gateway", "Java MVC", "")

    Container(trip_manager, "Reisbeheer API-applicatie", "Java MVC", "Beheert reisoverzicht en wijzigingen van bouwstenen")

    ContainerDb(db, "Database", "PostgreSQL", "Opslag van reisdata, wijzigingen en gebruikersvoorkeuren")
}


System_Ext(booking, "Booking API", "Booking.com, Airbnb", "Opvragen en beheren van hotelboekingen")

System_Ext(transport, "Vervoer API", "NS, KLM, Uber", "Houdt vervoersdata bij en signaleert wijzigingen")

System_Ext(attractions, "Bezienswaardigheden API", "TripAdvisor, Google Places", "Excursies en attracties")

System_Ext(horeca, "Horeca API", "TheFork, OpenTable", "Suggesties voor restaurants en cafés")

System_Ext(betaling, "Betalingsservice", "Stripe", "Betalingen regelen en geld innen")

Rel(user, web, "Gebruiker boekt reis")
Rel(web, trip_manager, "Verzend reisgegevens naar", JSON/HTTPS)
Rel(trip_manager, betaling, "Verzend reisgegevens met betrekking tot boeking naar")
Rel(betaling, trip_manager, "Stuurt *transactie urls door naar")
Rel(trip_manager, web, "Stuurt betalings methode terug")

' Connecting all APIs to Reisbeheer API applicatie
Rel(trip_manager, booking, "Opvragen en beheren van hotelboekingen via")
Rel(trip_manager, transport, "Houdt vervoersdata bij en signaleert wijzigingen via")
Rel(trip_manager, attractions, "Beheren excursies en attracties via")
Rel(trip_manager, horeca, "Suggesties voor restaurants en cafés via")

@enduml